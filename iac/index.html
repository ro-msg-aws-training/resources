<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Infrastructure as Code (IaC) | Getting Productive with AWS</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="The quickest way to be productive with Amazon Web Services. It covers the most used (by far) services and common architectures/patterns.">
    <link rel="preload" href="/resources/assets/css/0.styles.a90d66b8.css" as="style"><link rel="preload" href="/resources/assets/js/app.09c79cf1.js" as="script"><link rel="preload" href="/resources/assets/js/2.9a017cad.js" as="script"><link rel="preload" href="/resources/assets/js/7.9f3dcfc3.js" as="script"><link rel="prefetch" href="/resources/assets/js/10.bb8498fe.js"><link rel="prefetch" href="/resources/assets/js/11.6c1f0db3.js"><link rel="prefetch" href="/resources/assets/js/12.021e4e47.js"><link rel="prefetch" href="/resources/assets/js/13.1191a1d2.js"><link rel="prefetch" href="/resources/assets/js/14.85128f48.js"><link rel="prefetch" href="/resources/assets/js/15.afe45a94.js"><link rel="prefetch" href="/resources/assets/js/16.444e268a.js"><link rel="prefetch" href="/resources/assets/js/17.b6f63832.js"><link rel="prefetch" href="/resources/assets/js/18.9c417147.js"><link rel="prefetch" href="/resources/assets/js/3.b6911e55.js"><link rel="prefetch" href="/resources/assets/js/4.4d64059e.js"><link rel="prefetch" href="/resources/assets/js/5.3fbb23af.js"><link rel="prefetch" href="/resources/assets/js/6.fd7cb370.js"><link rel="prefetch" href="/resources/assets/js/8.9c48b1ea.js"><link rel="prefetch" href="/resources/assets/js/9.a5f38dd8.js">
    <link rel="stylesheet" href="/resources/assets/css/0.styles.a90d66b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/resources/" class="home-link router-link-active"><!----> <span class="site-name">Getting Productive with AWS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/resources/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/ro-msg-aws-training/resources" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AWS Training
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/ro-msg-react-training/resources" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React Training
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/ro-msg-spring-training/resources" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Training
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/resources/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/ro-msg-aws-training/resources" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AWS Training
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/ro-msg-react-training/resources" target="_blank" rel="noopener noreferrer" class="nav-link external">
  React Training
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/ro-msg-spring-training/resources" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Training
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/resources/" class="sidebar-link">Contents</a></li><li><a href="/resources/cloud/" class="sidebar-link">Cloud Intro</a></li><li><a href="/resources/aws/" class="sidebar-link">AWS Intro</a></li><li><a href="/resources/services/" class="sidebar-link">AWS Services</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resources/iac/" class="sidebar-heading clickable router-link-exact-active router-link-active active"><span>Infrastructure as Code</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/resources/infra/" class="sidebar-link">Regions and AZs</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/resources/iam/" class="sidebar-heading clickable"><span>IAM</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="infrastructure-as-code-iac"><a href="#infrastructure-as-code-iac" class="header-anchor">#</a> Infrastructure as Code (IaC)</h1> <p>When you interact with the cloud providers for the first time, you will most likely use the web interface to provision and setup the infrastructure (e.g. launch a VM). This is a good option at the beginning since it helps you to get used to the available services and what options they offer (e.g. you see a nice list with the available AMIs and instance types when launching an EC2 instance).</p> <p>While it might be fun for the first few times, it will become just some other repetitive and time-consuming task (and overhead) as the time goes by. Additionally, manual work always imposes the risk of human error (we might forget to tick some checkbox or miss-click some instance type). Large projects can quickly add up to tens of thousands of infrastructure resources that have to be configured and provisioned.</p> <p>These issues can be addressed by being able to declare/write the infrastructure in some text files and have cloud platforms interpret the files and automatically setup the required infrastructure for us or, in other words, infrastructure as code.</p> <p>Other (huge) benefits of having the infrastructure declared in text files include the capability to <strong>version control</strong> your infrastructure and to <strong>review changes</strong> (just like any other piece of code).</p> <p>In AWS, the service responsible for managing resources based on the code you provide (<strong>template</strong>) is called <strong>CloudFormation</strong>.</p> <p>One important characteristic of CloudFormation is that it works with <strong>stacks</strong>. These basically group all resources created by CloudFormation for a given template. This makes cleaning-up infrastructure a breeze since it is reduced down to deleting the stack (i.e. when you delete a stack, all the created EC2 instances, security groups, load balancers and so on are deleted automatically) (there some resources that cannot/will not be deleted automatically, but we will not worry about those for now).</p> <p>We will use CloudFormation in the following chapters. For now it is enough if you understand its basic structure. First of all, templates are written in JSON or YAML. We (and the rest of the world) will use yaml since it is considerably easier to read and understand.</p> <p>If you are not familiar with yaml, take a few minutes to get a grasp of it. <a href="https://dev.to/paulasantamaria/introduction-to-yaml-125f" target="_blank" rel="noopener noreferrer">This post<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> should be more than enough for now.</p> <p>Templates can contain 5 main types of definitions: resources, parameters, mappings, conditions and outputs.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/resources/assets/js/app.09c79cf1.js" defer></script><script src="/resources/assets/js/2.9a017cad.js" defer></script><script src="/resources/assets/js/7.9f3dcfc3.js" defer></script>
  </body>
</html>
